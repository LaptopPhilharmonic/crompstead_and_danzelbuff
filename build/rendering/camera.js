"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Camera = exports.CameraID = void 0;
const ElectronicaGame_js_1 = require("../ElectronicaGame.js");
let nextID = 1;
class CameraID {
    constructor() {
        this.number = nextID;
        nextID += 1;
    }
}
exports.CameraID = CameraID;
const allCameras = {};
class Camera {
    constructor(data) {
        var _a, _b;
        this.zoom = 1;
        this.on = true;
        this.id = new CameraID();
        this.x = data.x;
        this.y = data.y;
        this.zoom = (_a = data.zoom) !== null && _a !== void 0 ? _a : 1;
        this.on = (_b = data.on) !== null && _b !== void 0 ? _b : true;
        allCameras[this.id.number] = this;
    }
    static byId(id) {
        return allCameras[id.number];
    }
    centreOnScene(scene) {
        const screen = ElectronicaGame_js_1.gameData.globals.screenInfo;
        this.x = ((scene.w * this.zoom) / 2) - ((screen.width * screen.devicePixelRatio) / 2);
        this.y = ((scene.h * this.zoom) / 2) - ((screen.height * screen.devicePixelRatio) / 2);
    }
}
exports.Camera = Camera;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FtZXJhLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vcmVuZGVyaW5nL0NhbWVyYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSw4REFBaUQ7QUFFakQsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBRWYsTUFBYSxRQUFRO0lBR2pCO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUNoQixDQUFDO0NBQ0o7QUFQRCw0QkFPQztBQUVELE1BQU0sVUFBVSxHQUE0QixFQUFFLENBQUE7QUFTOUMsTUFBYSxNQUFNO0lBT2YsWUFBWSxJQUFnQjs7UUFINUIsU0FBSSxHQUFXLENBQUMsQ0FBQztRQUNqQixPQUFFLEdBQVksSUFBSSxDQUFDO1FBR2YsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDaEIsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFBLElBQUksQ0FBQyxJQUFJLG1DQUFJLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsRUFBRSxHQUFHLE1BQUEsSUFBSSxDQUFDLEVBQUUsbUNBQUksSUFBSSxDQUFDO1FBRTFCLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFZO1FBQ3BCLE9BQU8sVUFBVSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsYUFBYSxDQUFDLEtBQVk7UUFDdEIsTUFBTSxNQUFNLEdBQUcsNkJBQVEsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQzNDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RGLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzNGLENBQUM7Q0FDSjtBQTFCRCx3QkEwQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuLi9pbXBvcnQtbWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBnYW1lRGF0YSB9IGZyb20gJy4uL0VsZWN0cm9uaWNhR2FtZS5qcyc7XHJcblxyXG5sZXQgbmV4dElEID0gMTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1lcmFJRCB7XHJcbiAgICBudW1iZXI6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm51bWJlciA9IG5leHRJRDtcclxuICAgICAgICBuZXh0SUQgKz0gMTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWxsQ2FtZXJhczoge1trZXk6IG51bWJlcl06IENhbWVyYX0gPSB7fVxyXG5cclxuZXhwb3J0IHR5cGUgQ2FtZXJhRGF0YSA9IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHpvb20/OiBudW1iZXI7XHJcbiAgICBvbj86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xyXG4gICAgaWQ6IENhbWVyYUlEO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgem9vbTogbnVtYmVyID0gMTtcclxuICAgIG9uOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBDYW1lcmFEYXRhKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IG5ldyBDYW1lcmFJRCgpO1xyXG4gICAgICAgIHRoaXMueCA9IGRhdGEueDtcclxuICAgICAgICB0aGlzLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgdGhpcy56b29tID0gZGF0YS56b29tID8/IDE7XHJcbiAgICAgICAgdGhpcy5vbiA9IGRhdGEub24gPz8gdHJ1ZTtcclxuXHJcbiAgICAgICAgYWxsQ2FtZXJhc1t0aGlzLmlkLm51bWJlcl0gPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBieUlkKGlkOiBDYW1lcmFJRCkge1xyXG4gICAgICAgIHJldHVybiBhbGxDYW1lcmFzW2lkLm51bWJlcl07XHJcbiAgICB9XHJcblxyXG4gICAgY2VudHJlT25TY2VuZShzY2VuZTogU2NlbmUpIHtcclxuICAgICAgICBjb25zdCBzY3JlZW4gPSBnYW1lRGF0YS5nbG9iYWxzLnNjcmVlbkluZm87XHJcbiAgICAgICAgdGhpcy54ID0gKChzY2VuZS53ICogdGhpcy56b29tKSAvIDIpIC0gKChzY3JlZW4ud2lkdGggKiBzY3JlZW4uZGV2aWNlUGl4ZWxSYXRpbykgLyAyKTtcclxuICAgICAgICB0aGlzLnkgPSAoKHNjZW5lLmggKiB0aGlzLnpvb20pIC8gMikgLSAoKHNjcmVlbi5oZWlnaHQgKiBzY3JlZW4uZGV2aWNlUGl4ZWxSYXRpbykgLyAyKTtcclxuICAgIH1cclxufSJdfQ==